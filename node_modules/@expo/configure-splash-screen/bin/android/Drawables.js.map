{"version":3,"file":"Drawables.js","sourceRoot":"","sources":["../../src/android/Drawables.ts"],"names":[],"mappings":";;;;;AAAA,wDAA0B;AAC1B,gDAAwB;AAExB,MAAM,sBAAsB,GAAG,wBAAwB,CAAC;AAExD,MAAM,iBAAiB,GAAG;IACxB,OAAO,EAAE;QACP,IAAI,EAAE,kBAAkB,sBAAsB,EAAE;QAChD,oBAAoB,EAAE,CAAC;KACxB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,uBAAuB,sBAAsB,EAAE;QACrD,oBAAoB,EAAE,CAAC;KACxB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,uBAAuB,sBAAsB,EAAE;QACrD,oBAAoB,EAAE,GAAG;KAC1B;IACD,KAAK,EAAE;QACL,IAAI,EAAE,wBAAwB,sBAAsB,EAAE;QACtD,oBAAoB,EAAE,CAAC;KACxB;IACD,MAAM,EAAE;QACN,IAAI,EAAE,yBAAyB,sBAAsB,EAAE;QACvD,oBAAoB,EAAE,CAAC;KACxB;IACD,OAAO,EAAE;QACP,IAAI,EAAE,0BAA0B,sBAAsB,EAAE;QACxD,oBAAoB,EAAE,CAAC;KACxB;CACF,CAAC;AAEF,MAAM,iBAAiB,GAAG,gBAAgB,CAAC;AAC3C,MAAM,2BAA2B,GAAG,kBAAkB,sBAAsB,EAAE,CAAC;AAE/E;;;;GAIG;AACY,KAAK,UAAU,kBAAkB,CAC9C,eAAuB,EACvB,qBAA8B;IAE9B,MAAM,OAAO,CAAC,GAAG,CACf,MAAM,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,EAAE,EAAE;QACpE,IAAI,MAAM,kBAAE,CAAC,UAAU,CAAC,cAAI,CAAC,OAAO,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC,EAAE;YACpE,MAAM,kBAAE,CAAC,MAAM,CAAC,cAAI,CAAC,OAAO,CAAC,eAAe,EAAE,YAAY,CAAC,CAAC,CAAC;SAC9D;IACH,CAAC,CAAC,CACH,CAAC;IAEF,IAAI,qBAAqB,EAAE;QACzB,IAAI,CAAC,CAAC,MAAM,kBAAE,CAAC,UAAU,CAAC,cAAI,CAAC,OAAO,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC,CAAC,EAAE;YAC5E,MAAM,kBAAE,CAAC,KAAK,CAAC,cAAI,CAAC,OAAO,CAAC,eAAe,EAAE,iBAAiB,CAAC,CAAC,CAAC;SAClE;QACD,MAAM,kBAAE,CAAC,QAAQ,CACf,qBAAqB,EACrB,cAAI,CAAC,OAAO,CAAC,eAAe,EAAE,2BAA2B,CAAC,CAC3D,CAAC;KACH;AACH,CAAC;AArBD,qCAqBC","sourcesContent":["import fs from 'fs-extra';\nimport path from 'path';\n\nconst SPLASH_SCREEN_FILENAME = 'splashscreen_image.png';\n\nconst DRAWABLES_CONFIGS = {\n  default: {\n    path: `./res/drawable/${SPLASH_SCREEN_FILENAME}`,\n    dimensionsMultiplier: 1,\n  },\n  mdpi: {\n    path: `./res/drawable-mdpi/${SPLASH_SCREEN_FILENAME}`,\n    dimensionsMultiplier: 1,\n  },\n  hdpi: {\n    path: `./res/drawable-hdpi/${SPLASH_SCREEN_FILENAME}`,\n    dimensionsMultiplier: 1.5,\n  },\n  xhdpi: {\n    path: `./res/drawable-xhdpi/${SPLASH_SCREEN_FILENAME}`,\n    dimensionsMultiplier: 2,\n  },\n  xxhdpi: {\n    path: `./res/drawable-xxhdpi/${SPLASH_SCREEN_FILENAME}`,\n    dimensionsMultiplier: 3,\n  },\n  xxxhdpi: {\n    path: `./res/drawable-xxxhdpi/${SPLASH_SCREEN_FILENAME}`,\n    dimensionsMultiplier: 4,\n  },\n};\n\nconst DRAWABLE_DIR_PATH = './res/drawable';\nconst SPLASH_SCREEN_DRAWABLE_PATH = `./res/drawable/${SPLASH_SCREEN_FILENAME}`;\n\n/**\n * Deletes all previous splash_screen_images and copies new one to desired drawable directory.\n * If path isn't provided then no new image is placed in drawable directories.\n * @see https://developer.android.com/training/multiscreen/screendensities\n */\nexport default async function configureDrawables(\n  androidMainPath: string,\n  splashScreenImagePath?: string\n) {\n  await Promise.all(\n    Object.values(DRAWABLES_CONFIGS).map(async ({ path: drawbalePath }) => {\n      if (await fs.pathExists(path.resolve(androidMainPath, drawbalePath))) {\n        await fs.remove(path.resolve(androidMainPath, drawbalePath));\n      }\n    })\n  );\n\n  if (splashScreenImagePath) {\n    if (!(await fs.pathExists(path.resolve(androidMainPath, DRAWABLE_DIR_PATH)))) {\n      await fs.mkdir(path.resolve(androidMainPath, DRAWABLE_DIR_PATH));\n    }\n    await fs.copyFile(\n      splashScreenImagePath,\n      path.resolve(androidMainPath, SPLASH_SCREEN_DRAWABLE_PATH)\n    );\n  }\n}\n"]}